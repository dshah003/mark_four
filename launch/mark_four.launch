<launch>

  <arg name="localising_mode" default ="false"/>
  <arg name="database_path" default="$(find mark_four)/data/rtabmap.db"/>

	<!-- Base controller with tf, joystick and arduino interface-->
  <include file="$(find mark_four)/launch/controller_base.launch"/>
	<!-- kinect and Rtabmap odometry launchfile -->
  <include file="$(find openni_launch)/launch/openni.launch" />
  <include file="$(find mark_four)/launch/controller_odometry.launch"/>
  
  <include file="$(find mark_four)/launch/rtab_mapping.launch">
      <arg name="database_path" value="$(arg database_path)"/>
  </include>

  <include if="$(arg localising_mode)" file="$(find mark_four)/launch/rtabmap_localization.launch"/>
    <!-- Creating fake 2D scan -->
 <!--  <node name="depthimage_to_laserscan" pkg="depthimage_to_laserscan" type="depthimage_to_laserscan">
    <param name="scan_height" value="10"/>
    <remap from="image" to="kinect/depth_registered/image_raw" />
  </node> -->
</launch>